{% extends 'partials/header_app.html' %}
{% load static %}
{% block title %}Cambio de Contraseña{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/css/css_login_templates.css' %}">
{% endblock %}
{% block body_class %}modal-body{% endblock %}
{% block content %}
<div id="modalOverlay">
    <div class="modal-container">
        <a href="{% url 'Menu' %}" class="close-button">X</a>

        <h2 class="modal-title">Cambio de contraseña</h2>

        {% if error %}
        <div class="error-message">{{ error }}</div>
        {% endif %}

        <form action="{% url 'Change_pass' %}" method="POST" id="passwordForm">
            {% csrf_token %}

            <label class="form-label">Ingrese nueva contraseña</label>
            <input 
                type="password" 
                name="nueva_password" 
                id="nuevaPassword"
                class="form-input" 
                placeholder="Contraseña" 
                required
            >

            <label class="form-label">Confirme nueva contraseña</label>
            <input 
                type="password" 
                name="confirmar_password" 
                id="confirmarPassword"
                class="form-input" 
                placeholder="Contraseña" 
                required
            >

            <div class="password-requirements" id="requirements">
                <div class="requirement" id="req-length">Mínimo 8 caracteres</div>
                <div class="requirement" id="req-uppercase">Al menos una mayúscula</div>
                <div class="requirement" id="req-lowercase">Al menos una minúscula</div>
                <div class="requirement" id="req-number">Al menos un número</div>
                <div class="requirement" id="req-special">Al menos un carácter especial (@$!%*?&#)</div>
                <div class="requirement" id="req-space">Sin espacios</div>
                <div class="requirement" id="req-match">Las contraseñas coinciden</div>
            </div>

            <button type="submit" class="submit-button" id="submitBtn" style="margin-top: 20px;">Restablecer</button>
        </form>
    </div>
</div>
{% endblock %}
{% block extra_js %}
<script src="{% static 'core/js/password_validators.js' %}"></script>
{% endblock %}