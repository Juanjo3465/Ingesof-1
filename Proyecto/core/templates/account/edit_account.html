{% extends "partials/header_user.html" %}
{% load static %}

{% block title %}Editar cuenta{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/css/css_account.css' %}">
{% endblock %}

{% block content %}
<div class="cuenta-container">
    <div class="cuenta-card">
        <h1 class="cuenta-title">Editar mi cuenta</h1>
        
        {% if messages %}
            {% for message in messages %}
                <div class="error-message">{{ message }}</div>
            {% endfor %}
        {% endif %}
        
        <form method="POST" action="{% url 'Edit_account' %}" class="edit-form">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="nombre" class="form-label">Nombre</label>
                <input 
                    type="text" 
                    id="nombre" 
                    name="nombre" 
                    class="form-input" 
                    value="{{ usuario.nombre }}"
                    required
                    placeholder="Nombre completo"
                >
            </div>
            
            <div class="form-group">
                <label for="fecha_nacimiento" class="form-label">Fecha de nacimiento</label>
                <input 
                    type="date" 
                    id="fecha_nacimiento" 
                    name="fecha_nacimiento" 
                    class="form-input" 
                    value="{{ usuario.fecha_nacimiento|date:'Y-m-d' }}"
                    required
                >
            </div>
            
            <div class="form-group">
                <label for="correo" class="form-label">Correo</label>
                <input 
                    type="email" 
                    id="correo" 
                    name="correo" 
                    class="form-input" 
                    value="{{ usuario.correo }}"
                    required
                    placeholder="correo@ejemplo.com"
                >
            </div>
            
            <div class="form-group">
                <label for="celular" class="form-label">Celular</label>
                <input 
                    type="tel" 
                    id="celular" 
                    name="celular" 
                    class="form-input" 
                    value="{{ usuario.celular }}"
                    placeholder="3120009988"
                    maxlength="10"
                    pattern="[0-9]{10}"
                    title="Ingrese 10 dígitos numéricos"
                >
            </div>
            
            <div class="button-group">
                <button type="submit" class="submit-button">Guardar cambios</button>
                <a href="{% url 'Account_info' %}" class="cancel-button">Cancelar</a>
            </div>
        </form>
        
        <div class="password-section">
            <a href="{% url 'Confirm_password' %}" class="password-button">Cambiar contraseña</a>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script src="{% static 'core/js/account_validators.js' %}"></script>
{% endblock %}